---

layout: postMod1
title: Getting the most out of Anki
author: pulkit
last_modified_at: February 14, 2020
tags: [anki,iPad,apple,pencil]

---


## Take notes via Apple Pencil

* Sometimes I would get lazy and wouldn't transfer all of my relevant notes to anki so I suffered when it came time to review and practice as the backlog of things to add kept increasing. Transferring images from notes taken in Notability or by hand was exciting at first but when I tried to scale it to match my study needs, it became a cumbersome process.
* Luckily there is a way to create handwritten notes directly on anki when using an iPad using apple pencil. I still type part of my question so that I have the benefit of text search but all the illustrations are done via apple pencil and automatically converted into byte sized images.
* The images can get unruly because of finger touches so make sure to turn that off!
* 

## Take notes via Occlusion

* The **Image Occlusion Enhanced** plugin by **glutamate** works very well.
* It is simplistic to create occluded cards via the anki client on macbook.
* And the usage on iOS devices for practicing via the occluded cards is excellent as well.

Rather than as yStarting out
This [video]( https://youtu.be/35RlydUf6xo?t=198) offers a great example of how: "In order to combine multi-tag match, the `tags` field must be a map" and we must merge results and remove duplicates on client side after running individual queries.

## Client Side
But there wasn't any example for client side code to do so, until I found a plausible suggestion on [stackoverflow](https://stackoverflow.com/questions/46632042/how-to-perform-compound-queries-with-logical-or-in-cloud-firestore#answer-48832819).

> Bind two Observables using the rxjs merge operator

```
import { Observable } from 'rxjs/Observable';
import 'rxjs/add/observable/merge';

...

getCombinatedStatus(): Observable<any> {
  return Observable.merge(
    this.db.collection('foo', ref =>
      ref.where('tags.physics','==','true')).valueChanges(),
    this.db.collection('foo', ref =>
      ref.where('tags.chemistry','==','true')).valueChanges());
}
```

> Then subscribe to the new Observable updates using the `getCombinatedStatus()` method.

```
getCombinatedStatus.subscribe(results => console.log(results);
```

## Server Side "niche" Workaround

There was [another](https://stackoverflow.com/questions/46632042/how-to-perform-compound-queries-with-logical-or-in-cloud-firestore#answer-55151765) great solution if it fits your dataset. Also a [blog](https://blog.oasisdigital.com/2018/querying-without-or-in-firestore/#post-2022-_adhx5di43dpw) discussing the same strategy. And a github [issue](https://github.com/firebase/firebase-js-sdk/issues/1777) on the topic.

> The only possible values for ours are A,B,C,D (4) so we have to query for things like `A||B, A||C, A||B||C` etc

> So if something only qualified for conditional  `A`  of our 4 conditionals (A,B,C,D) then its array would contain the following literal strings: 

```
tags: [
  "A",
  "A||B",
  "A||C",
  "A||D",
  "A||B||C",
  "A||B||D",
  "A||C||D",
  "A||B||C||D"
 ]
```

> Then for any of those  `OR`  combinations we can just search  `array-contains`  on whatever we may want (e.g. `A||C`)

I assume some work (worker and client) would go into handling case-sensitivity and alphabetical sorting, both when creating, deleting, updating the tags ... and especially when querying/reading them.



## References

> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTQxMzYzNDUyNV19
-->